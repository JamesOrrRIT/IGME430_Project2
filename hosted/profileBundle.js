(()=>{var e={603:e=>{const t=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("loginMessage").classList.remove("hidden")};e.exports={handleError:t,sendPost:async(e,n,o)=>{const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),s=await r.json();document.getElementById("loginMessage").classList.add("hidden"),s.redirect&&(window.location=s.redirect),s.error&&t(s.error),o&&o(s)},hideError:()=>{document.getElementById("loginMessage").classList.add("hidden")}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}(()=>{const e=n(603);window.onload=async()=>{const t=await fetch("/getToken");await t.json(),(()=>{const t=document.getElementById("profileForm"),n=document.getElementById("nickname"),o=document.getElementById("bio"),r=document.getElementById("colorSelect"),s=document.getElementById("profileChange");t.addEventListener("submit",(t=>{t.preventDefault(),""!=n.value||""!=o.value?e.sendPost(t.target.action,{nickname:n.value,bio:o.value,colorPicker:r.value,_csrf},(e=>{n.value="",o.value="",s.innerHTML="User settings changed."})):s.innerHTML="No changes to submit."}))})()}})()})();