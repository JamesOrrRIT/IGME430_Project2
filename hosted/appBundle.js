(()=>{var e={603:e=>{const t=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("loginMessage").classList.remove("hidden")};e.exports={handleError:t,sendPost:async(e,n,o)=>{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),a=await s.json();document.getElementById("loginMessage").classList.add("hidden"),a.redirect&&(window.location=a.redirect),a.error&&t(a.error),o&&o(a)},hideError:()=>{document.getElementById("loginMessage").classList.add("hidden")}}}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{const e=n(603),t=io(),o=e=>{const t=document.createElement("div");t.innerText=e,document.getElementById("messages").appendChild(t)};window.onload=async()=>{const n=await fetch("/getToken");await n.json(),(()=>{const n=document.getElementById("editForm"),o=document.getElementById("editBox"),s=document.getElementById("channelSelect");n.addEventListener("submit",(n=>{if(n.preventDefault(),e.hideError(),""==o.value)return e.handleError("Fill in the field before submitting, please."),!1;{const e={message:o.value,channel:s.value};t.emit("chat message",e),o.value=""}}))})(),t.on("general",o),(()=>{const e=document.getElementById("channelSelect"),n=document.getElementById("messages");e.addEventListener("change",(()=>{switch(n.innerHTML="",e.value){case"memes":t.off("general"),t.off("songs"),t.on("memes",o);break;case"general":t.off("memes"),t.off("songa"),t.on("general",o);break;default:t.off("general"),t.off("memes"),t.on("songs",o)}}))})()}})()})();