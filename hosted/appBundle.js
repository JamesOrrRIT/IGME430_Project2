(()=>{var e={603:e=>{const t=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("loginMessage").classList.remove("hidden")};e.exports={handleError:t,sendPost:async(e,s,a)=>{const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await n.json();document.getElementById("loginMessage").classList.add("hidden"),o.redirect&&(window.location=o.redirect),o.error&&t(o.error),a&&a(o)},hideError:()=>{document.getElementById("loginMessage").classList.add("hidden")}}}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,s),o.exports}(()=>{const e=s(603),t=io(),a=e=>{const t=document.createElement("div");t.innerText=e,document.getElementById("messages").appendChild(t)},n=e=>{if(0===e.domos.length)return React.createElement("div",{className:"messageList"},React.createElement("h3",{className:"empty"},"Nothing has been posted yet."));const t=e.domos.map((e=>React.createElement("div",{key:e._id,className:"message"},React.createElement("h2",{className:"username"}," ",e.postedBy," "),React.createElement("h2",{className:"message"}," ",e.messageText," "),React.createElement("h2",{className:"createdDate"}," ",e.createdDate," "))));return React.createElement("div",{className:"messageList"},t)};window.onload=async()=>{const s=await fetch("/getToken");await s.json(),(()=>{const s=document.getElementById("editForm"),a=document.getElementById("editBox"),n=document.getElementById("channelSelect");s.addEventListener("submit",(s=>{if(s.preventDefault(),e.hideError(),""==a.value)return e.handleError("Fill in the field before submitting, please."),!1;{const e={message:a.value,channel:n.value};t.emit("chat message",e),a.value=""}}))})(),t.on("general",a),(()=>{const e=document.getElementById("channelSelect"),s=document.getElementById("messages");e.addEventListener("change",(()=>{switch(s.innerHTML="",e.value){case"memes":t.off("general"),t.off("songs"),t.on("memes",a);break;case"general":t.off("memes"),t.off("songa"),t.on("general",a);break;default:t.off("general"),t.off("memes"),t.on("songs",a)}}))})(),(async()=>{const e=await fetch("/getMessages"),t=await e.json();ReactDOM.render(React.createElement(n,{messages:t.messages}),document.getElementById("messages"))})()}})()})();