(()=>{var e={603:e=>{const t=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("loginMessage").classList.remove("hidden")};e.exports={handleError:t,sendPost:async(e,n,o)=>{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),a=await s.json();document.getElementById("loginMessage").classList.add("hidden"),a.redirect&&(window.location=a.redirect),a.error&&t(a.error),o&&o(a)},hideError:()=>{document.getElementById("loginMessage").classList.add("hidden")}}}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{n(603);const e=io(),t=e=>{const t=document.createElement("div");t.innerText=e,document.getElementById("messages").appendChild(t)};window.onload=async()=>{const n=await fetch("/getToken");await n.json(),(()=>{const t=document.getElementById("editForm"),n=document.getElementById("editBox"),o=document.getElementById("channelSelect");t.addEventListener("submit",(t=>{if(t.preventDefault(),n.value){const t={message:n.value,channel:o.value};e.emit("chat message",t),n.value=""}}))})(),e.on("general",t),(()=>{const n=document.getElementById("channelSelect"),o=document.getElementById("messages");n.addEventListener("change",(()=>{switch(o.innerHTML="",n.value){case"memes":e.off("general"),e.off("songs"),e.on("memes",t);break;case"general":e.off("memes"),e.off("songa"),e.on("general",t);break;default:e.off("general"),e.off("memes"),e.on("songs",t)}}))})()}})()})();