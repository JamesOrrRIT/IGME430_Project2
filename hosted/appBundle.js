(()=>{var e={603:e=>{const n=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("loginMessage").classList.remove("hidden")};e.exports={handleError:n,sendPost:async(e,t,o)=>{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await s.json();document.getElementById("loginMessage").classList.add("hidden"),a.redirect&&(window.location=a.redirect),a.error&&n(a.error),o&&o(a)},hideError:()=>{document.getElementById("loginMessage").classList.add("hidden")}}}},n={};function t(o){var s=n[o];if(void 0!==s)return s.exports;var a=n[o]={exports:{}};return e[o](a,a.exports,t),a.exports}(()=>{const e=t(603),n=io(),o=e=>{const n=document.createElement("div");n.innerText=e,document.getElementById("messages").appendChild(n)};window.onload=async()=>{const t=await fetch("/getToken");await t.json(),(()=>{const t=document.getElementById("editForm"),o=document.getElementById("editBox"),s=document.getElementById("channelSelect");t.addEventListener("submit",(t=>{if(t.preventDefault(),e.hideError(),""==o.value)return e.handleError("Fill in the field before submitting, please."),!1;{const e={message:o.value,channel:s.value};n.emit("chat message",e),o.value=""}}))})(),n.on("general",o),(()=>{const e=document.getElementById("channelSelect"),t=document.getElementById("messages");e.addEventListener("change",(()=>{switch(t.innerHTML="",e.value){case"memes":n.off("general"),n.off("songs"),n.on("memes",o);break;case"general":n.off("memes"),n.off("songa"),n.on("general",o);break;default:n.off("general"),n.off("memes"),n.on("songs",o)}}))})(),(async()=>{})()}})()})();